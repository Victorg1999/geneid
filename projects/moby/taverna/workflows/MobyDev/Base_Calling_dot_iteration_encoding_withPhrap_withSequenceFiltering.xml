<?xml version="1.0" encoding="UTF-8"?>
<s:scufl xmlns:s="http://org.embl.ebi.escience/xscufl/0.1alpha" version="0.2" log="0">
  <s:workflowdescription lsid="urn:lsid:www.mygrid.org.uk:operation:ZR18RDQYZP0" author="" title="" />
  <s:processor name="articleName_rawdata" boring="true">
    <s:stringconstant>rawdata</s:stringconstant>
  </s:processor>
  <s:processor name="make_unique_fasta_sequences_string">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
  </s:processor>
  <s:processor name="Encode_byte___to_base64">
    <s:local>org.embl.ebi.escience.scuflworkers.java.EncodeBase64</s:local>
  </s:processor>
  <s:processor name="parse_moby_sequences">
    <s:local>org.embl.ebi.escience.scuflworkers.biomoby.ExtractMobyData</s:local>
  </s:processor>
  <s:processor name="articleNameContent" boring="true">
    <s:stringconstant>content</s:stringconstant>
  </s:processor>
  <s:processor name="identifierDefault" boring="true">
    <s:stringconstant>default</s:stringconstant>
  </s:processor>
  <s:processor name="parse_moby_quality_data">
    <s:local>org.embl.ebi.escience.scuflworkers.biomoby.ExtractMobyData</s:local>
  </s:processor>
  <s:processor name="parse_moby_phrap_sequences">
    <s:local>org.embl.ebi.escience.scuflworkers.biomoby.ExtractMobyData</s:local>
  </s:processor>
  <s:processor name="make_unique_fasta_quality_string">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
  </s:processor>
  <s:processor name="String2">
    <s:description>a string</s:description>
    <s:biomobyobject>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>String</s:serviceName>
      <s:authorityName />
    </s:biomobyobject>
  </s:processor>
  <s:processor name="String">
    <s:description>a string</s:description>
    <s:biomobyobject>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>String</s:serviceName>
      <s:authorityName />
    </s:biomobyobject>
  </s:processor>
  <s:processor name="filterSequencesAndQualityDataByLength">
    <s:description>Filters a set of sequences based on their length. Only sequences which length is greater than the length cutoff will be returned. It also filters out the quality data associated with the removed sequences.</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>filterSequencesAndQualityDataByLength</s:serviceName>
      <s:authorityName>genome.imim.es</s:authorityName>
      <s:Parameter s:name="length_cutoff">75</s:Parameter>
      <s:Parameter s:name="trim_masked_regions">On</s:Parameter>
    </s:biomobywsdl>
  </s:processor>
  <s:processor name="runCrossMatchToScreenVector">
    <s:description>Runs cross_match to screen out vector sequences from a DNA sequence. The vector sequences dataset is stored internally</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>runCrossMatchToScreenVector</s:serviceName>
      <s:authorityName>genome.imim.es</s:authorityName>
      <s:Parameter s:name="minscore">20</s:Parameter>
      <s:Parameter s:name="minmatch">12</s:Parameter>
    </s:biomobywsdl>
  </s:processor>
  <s:processor name="runPhrapWithQualityData">
    <s:description>Runs Phrap to Assemble a set of DNA sequences, taking into account base quality data</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>runPhrapWithQualityData</s:serviceName>
      <s:authorityName>genome.imim.es</s:authorityName>
      <s:Parameter s:name="node_seg">8</s:Parameter>
      <s:Parameter s:name="node_space">4</s:Parameter>
    </s:biomobywsdl>
  </s:processor>
  <s:processor name="runPhred">
    <s:description>Phred writes the base calls from a chromatogram and returns a DNA sequence and FASTA base quality data</s:description>
    <s:biomobywsdl>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>runPhred</s:serviceName>
      <s:authorityName>genome.imim.es</s:authorityName>
      <s:Parameter s:name="trim_cutoff">0.05</s:Parameter>
      <s:Parameter s:name="trim_alt">On</s:Parameter>
    </s:biomobywsdl>
  </s:processor>
  <s:processor name="String1">
    <s:description>a string</s:description>
    <s:biomobyobject>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>String</s:serviceName>
      <s:authorityName />
    </s:biomobyobject>
  </s:processor>
  <s:processor name="ABI_Encoded">
    <s:description>Trace data in ABI format</s:description>
    <s:biomobyobject>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>ABI_Encoded</s:serviceName>
      <s:authorityName />
    </s:biomobyobject>
    <s:iterationstrategy>
      <i:cross xmlns:i="http://org.embl.ebi.escience/xscufliteration/0.1beta10">
        <i:dot>
          <i:iterator name="String(rawdata)" />
          <i:iterator name="id" />
        </i:dot>
        <i:iterator name="namespace" />
      </i:cross>
    </s:iterationstrategy>
  </s:processor>
  <s:processor name="FASTA_Base_Quality_multi">
    <s:description>sequences base quality data in FASTA format</s:description>
    <s:biomobyobject>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>FASTA_Base_Quality_multi</s:serviceName>
      <s:authorityName />
    </s:biomobyobject>
  </s:processor>
  <s:processor name="FASTA_NA_multi">
    <s:description>multiple nucleic acids sequence in FASTA format</s:description>
    <s:biomobyobject>
      <s:mobyEndpoint>http://moby-dev.inab.org/cgi-bin/MOBY-Central.pl</s:mobyEndpoint>
      <s:serviceName>FASTA_NA_multi</s:serviceName>
      <s:authorityName />
    </s:biomobyobject>
  </s:processor>
  <s:processor name="make_unique_fasta_sequences_string_2">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
  </s:processor>
  <s:processor name="make_unique_fasta_sequences_string_3">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
  </s:processor>
  <s:processor name="make_unique_fasta_quality_string_2">
    <s:local>org.embl.ebi.escience.scuflworkers.java.StringListMerge</s:local>
  </s:processor>
  <s:processor name="parse_moby_ace_output">
    <s:local>org.biomoby.client.taverna.plugin.ExtractMobyData</s:local>
  </s:processor>
  <s:processor name="parse_moby_high_quality_reads_sequences">
    <s:local>org.biomoby.client.taverna.plugin.ExtractMobyData</s:local>
  </s:processor>
  <s:processor name="parse_moby_high_quality_reads_quality_data">
    <s:local>org.biomoby.client.taverna.plugin.ExtractMobyData</s:local>
  </s:processor>
  <s:link source="ABI_Encoded:mobyData" sink="runPhred:Chromatogram_Encoded(trace)" />
  <s:link source="FASTA_Base_Quality_multi:mobyData" sink="filterSequencesAndQualityDataByLength:FASTA_Base_Quality_multi(base_quality_data)" />
  <s:link source="FASTA_NA_multi:mobyData" sink="filterSequencesAndQualityDataByLength:FASTA_NA_multi(sequences)" />
  <s:link source="String1:mobyData" sink="FASTA_NA_multi:String(content)" />
  <s:link source="String2:mobyData" sink="FASTA_Base_Quality_multi:String(content)" />
  <s:link source="String:mobyData" sink="ABI_Encoded:String(rawdata)" />
  <s:link source="identifier" sink="ABI_Encoded:id" />
  <s:link source="namespace" sink="ABI_Encoded:namespace" />
  <s:link source="articleNameContent:value" sink="String1:article name" />
  <s:link source="articleNameContent:value" sink="String2:article name" />
  <s:link source="articleName_rawdata:value" sink="String:article name" />
  <s:link source="trace_data" sink="Encode_byte___to_base64:bytes" />
  <s:link source="Encode_byte___to_base64:base64" sink="String:value" />
  <s:link source="filterSequencesAndQualityDataByLength:FASTA_Base_Quality_multi(filtered_base_quality_data)" sink="parse_moby_high_quality_reads_quality_data:mobydata" />
  <s:link source="filterSequencesAndQualityDataByLength:FASTA_Base_Quality_multi(filtered_base_quality_data)" sink="runPhrapWithQualityData:FASTA_Base_Quality_multi(base_quality_data)" />
  <s:link source="filterSequencesAndQualityDataByLength:FASTA_NA_multi(filtered_sequences)" sink="parse_moby_high_quality_reads_sequences:mobydata" />
  <s:link source="filterSequencesAndQualityDataByLength:FASTA_NA_multi(filtered_sequences)" sink="runPhrapWithQualityData:FASTA_NA_multi(sequences)" />
  <s:link source="identifierDefault:value" sink="FASTA_Base_Quality_multi:id" />
  <s:link source="namespace" sink="FASTA_Base_Quality_multi:namespace" />
  <s:link source="namespace" sink="FASTA_NA_multi:namespace" />
  <s:link source="identifierDefault:value" sink="FASTA_NA_multi:id" />
  <s:link source="make_unique_fasta_quality_string:concatenated" sink="make_unique_fasta_quality_string_2:stringlist" />
  <s:link source="make_unique_fasta_quality_string_2:concatenated" sink="All_Reads_Quality_Data" />
  <s:link source="make_unique_fasta_quality_string_2:concatenated" sink="String2:value" />
  <s:link source="make_unique_fasta_sequences_string:concatenated" sink="make_unique_fasta_sequences_string_2:stringlist" />
  <s:link source="make_unique_fasta_sequences_string_2:concatenated" sink="make_unique_fasta_sequences_string_3:stringlist" />
  <s:link source="make_unique_fasta_sequences_string_3:concatenated" sink="String1:value" />
  <s:link source="parse_moby_high_quality_reads_quality_data:value" sink="High_Quality_Reads_Quality_Data" />
  <s:link source="parse_moby_high_quality_reads_sequences:value" sink="High_Quality_Reads_Sequences" />
  <s:link source="parse_moby_quality_data:value" sink="make_unique_fasta_quality_string:stringlist" />
  <s:link source="parse_moby_sequences:value" sink="make_unique_fasta_sequences_string:stringlist" />
  <s:link source="runCrossMatchToScreenVector:FASTA_NA(screened_sequence)" sink="parse_moby_sequences:mobydata" />
  <s:link source="runPhrapWithQualityData:Ace_Text(assembly)" sink="parse_moby_ace_output:mobydata" />
  <s:link source="make_unique_fasta_sequences_string_3:concatenated" sink="All_Reads_Sequences" />
  <s:link source="parse_moby_ace_output:value" sink="Assembly_Ace_Output" />
  <s:link source="runPhrapWithQualityData:FASTA_NA_multi(contig_and_singlet_sequences)" sink="parse_moby_phrap_sequences:mobydata" />
  <s:link source="runPhred:FASTA_Base_Quality(base_quality_data)" sink="parse_moby_quality_data:mobydata" />
  <s:link source="runPhred:FASTA_NA(sequence)" sink="runCrossMatchToScreenVector:FASTA_NA(sequence)" />
  <s:link source="parse_moby_phrap_sequences:value" sink="Phrap_Singlets_Contigs_Sequences" />
  <s:source name="trace_data" />
  <s:source name="namespace" />
  <s:source name="identifier" />
  <s:sink name="All_Reads_Quality_Data" />
  <s:sink name="All_Reads_Sequences" />
  <s:sink name="Phrap_Singlets_Contigs_Sequences" />
  <s:sink name="Assembly_Ace_Output">
    <s:metadata>
      <s:mimeTypes>
        <s:mimeType>text/xml</s:mimeType>
      </s:mimeTypes>
    </s:metadata>
  </s:sink>
  <s:sink name="High_Quality_Reads_Sequences" />
  <s:sink name="High_Quality_Reads_Quality_Data" />
</s:scufl>

